{"version":3,"file":"static/js/369.a52fb017.chunk.js","mappings":"sMAMA,MAAMA,EAAgBC,IAAsB,IAArB,OAAEC,EAAS,IAAID,EACpC,MAAME,GAAQC,EAAAA,EAAAA,MACPC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAAiBC,IAAsBF,EAAAA,EAAAA,UAAS,KAChDG,EAAiBC,IAAsBJ,EAAAA,EAAAA,UAAS,MAGvDK,EAAAA,UAAgB,KACd,MAAMC,EAAQC,WAAW,KACvBL,EAAmBJ,IAClB,KACH,MAAO,IAAMU,aAAaF,IACzB,CAACR,IAGJ,MAAMW,GAAgBC,EAAAA,EAAAA,SAAQ,IACrBf,EAAOgB,OAAOC,GAA0B,YAAjBA,EAAMC,QACnC,CAAClB,IAEEmB,GAAmBJ,EAAAA,EAAAA,SAAQ,IACxBD,EAAcE,OAAOI,IAAY,IAADC,EAAAC,EAAAC,EAKrC,MAJ0C,KAApBjB,IACD,QADuBe,EAC1CD,EAAQI,mBAAW,IAAAH,OAAA,EAAnBA,EAAqBI,cAAcC,SAASpB,EAAgBmB,kBACxC,QADsDH,EAC1EF,EAAQO,oBAAY,IAAAL,OAAA,EAApBA,EAAsBG,cAAcC,SAASpB,EAAgBmB,kBACnD,QADiEF,EAC3EH,EAAQQ,UAAE,IAAAL,OAAA,EAAVA,EAAYM,WAAWH,SAASpB,MAGnC,CAACQ,EAAeR,IAEbwB,EAAoBC,UAGxB9B,EAAM+B,QAAQ,wCAGVC,EAAsBF,UAC1B,UACQG,EAAAA,GAAUC,kBAAkBC,EAAW,kBAC7CnC,EAAM+B,QAAQ,2BACdvB,EAAmB,KACrB,CAAE,MAAO4B,GACPpC,EAAMoC,MAAM,2BACd,GAGF,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,oBACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,uDAGLC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yBAAwBC,UACrCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sBAAqBC,UAClCC,EAAAA,EAAAA,KAAA,SACEC,KAAK,OACLC,YAAY,8CACZC,MAAOzC,EACP0C,SAAWC,GAAM1C,EAAe0C,EAAEC,OAAOH,OACzCL,UAAU,+BAKhBE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yBAAwBC,SACR,IAA5BrB,EAAiB6B,QAChBV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,8CACHC,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mEAGLC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAC3BrB,EAAiB8B,IAAI,CAAC7B,EAAS8B,KAC9BZ,EAAAA,EAAAA,MAACa,EAAAA,EAAOC,IAAG,CAETb,UAAU,eACVc,QAAS,CAAEC,QAAS,EAAGC,EAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,WAAY,CAAEC,MAAe,IAARR,GACrBS,QAASA,IAAMlD,EAAmBW,GAASoB,SAAA,EAE3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,aAAYC,SAAA,CAAC,YAAUpB,EAAQQ,OAC/Ca,EAAAA,EAAAA,KAAA,QAAMF,UAAU,gBAAeC,SAAC,YAElCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,UAAAD,SAASpB,EAAQI,aAAe,qBAChCc,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,aAAWpB,EAAQwC,gBAE3BnB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mBAAkBC,UAC/BF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,aAAWpB,EAAQO,cAAgB,YAE3CW,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,cAAY,IAAIqB,KAAKzC,EAAQ0C,WAAWC,wBAC7C3C,EAAQ4C,eACP1B,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,aAAW,IAAIqB,KAAKzC,EAAQ4C,cAAcD,2BAGnD3C,EAAQ6C,cACP3B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,CAAC,eACjBpB,EAAQ6C,YAAYC,wBAIvC5B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,UACEF,UAAU,6BACVoB,QAAUb,IACRA,EAAEqB,kBACFrC,EAAkBV,EAAQQ,KAC1BY,SACH,kBAGDC,EAAAA,EAAAA,KAAA,UACEF,UAAU,+BACVoB,QAAUb,IACRA,EAAEqB,kBACFlC,EAAoBb,EAAQQ,KAC5BY,SACH,gBA/CEpB,EAAQQ,SAyDtBpB,IACCiC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAwBoB,QAASA,IAAMlD,EAAmB,MAAM+B,UAC7EF,EAAAA,EAAAA,MAACa,EAAAA,EAAOC,IAAG,CACTb,UAAU,gBACVc,QAAS,CAAEC,QAAS,EAAGc,MAAO,IAC9BZ,QAAS,CAAEF,QAAS,EAAGc,MAAO,GAC9BT,QAAUb,GAAMA,EAAEqB,kBAAkB3B,SAAA,EAEpCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qBACJC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,cAAcoB,QAASA,IAAMlD,EAAmB,MAAM+B,SAAC,aAE3EF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,iBAC/BF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,eAAcC,SAAA,CAAC,IAAEhC,EAAgBoB,UAEnDU,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,cAC/BC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAEhC,EAAgBgB,kBAElDc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,eAC/BC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAEhC,EAAgBoD,eAElDtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,eAC/BC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAEhC,EAAgBmB,cAAgB,YAElEW,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,oBAC/BC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAC3BhC,EAAgBwD,aACb,IAAIH,KAAKrD,EAAgBwD,cAAcD,qBACvC,qBAGPvD,EAAgByD,cACf3B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,eAAcC,SAAC,uBAC/BF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,sBAAqBC,SAAA,CAAC,IAClChC,EAAgByD,YAAYC,2BAKtC5B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,UACEF,UAAU,2BACVoB,QAASA,KACP7B,EAAkBtB,EAAgBoB,IAClCnB,EAAmB,OACnB+B,SACH,kBAGDC,EAAAA,EAAAA,KAAA,UACEF,UAAU,6BACVoB,QAASA,KACP1B,EAAoBzB,EAAgBoB,KACpCY,SACH,+BAWf,GAAe6B,EAAAA,EAAAA,MAAKvE,E","sources":["components/OrderRequests.js"],"sourcesContent":["import React, { useState, useMemo, memo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { ordersAPI } from '../services/api';\r\nimport { useToast } from '../hooks/useToast';\r\nimport './OrderRequests.css';\r\n\r\nconst OrderRequests = ({ orders = [] }) => {\r\n  const toast = useToast();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [debouncedSearch, setDebouncedSearch] = useState('');\r\n  const [selectedRequest, setSelectedRequest] = useState(null);\r\n\r\n  // Debounce search\r\n  React.useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearch(searchQuery);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  // Filter orders that are pending (requests)\r\n  const orderRequests = useMemo(() => {\r\n    return orders.filter(order => order.status === 'pending');\r\n  }, [orders]);\r\n\r\n  const filteredRequests = useMemo(() => {\r\n    return orderRequests.filter(request => {\r\n      const matchesSearch = debouncedSearch === '' || \r\n        request.productType?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\r\n        request.customerName?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\r\n        request.id?.toString().includes(debouncedSearch);\r\n      return matchesSearch;\r\n    });\r\n  }, [orderRequests, debouncedSearch]);\r\n\r\n  const handleCreateOffer = async (requestId) => {\r\n    // This would create an offer for the request\r\n    // For now, just show a message\r\n    toast.success('Offer creation feature coming soon!');\r\n  };\r\n\r\n  const handleAcceptRequest = async (requestId) => {\r\n    try {\r\n      await ordersAPI.updateOrderStatus(requestId, 'in-preparation');\r\n      toast.success('Order request accepted!');\r\n      setSelectedRequest(null);\r\n    } catch (error) {\r\n      toast.error('Failed to accept request');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"order-requests\">\r\n      <div className=\"order-requests-header\">\r\n        <h1>Order Requests</h1>\r\n        <p>View incoming order requests and create offers</p>\r\n      </div>\r\n\r\n      <div className=\"order-requests-filters\">\r\n        <div className=\"requests-search-box\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by product, customer, or order ID...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"requests-search-input\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"order-requests-content\">\r\n        {filteredRequests.length === 0 ? (\r\n          <div className=\"requests-empty-state\">\r\n            <p>No pending order requests at the moment.</p>\r\n            <p>New requests will appear here when customers place orders.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"requests-grid\">\r\n            {filteredRequests.map((request, index) => (\r\n              <motion.div\r\n                key={request.id}\r\n                className=\"request-card\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: index * 0.05 }}\r\n                onClick={() => setSelectedRequest(request)}\r\n              >\r\n                <div className=\"request-header\">\r\n                  <span className=\"request-id\">Request #{request.id}</span>\r\n                  <span className=\"request-badge\">New</span>\r\n                </div>\r\n                <div className=\"request-body\">\r\n                  <div className=\"request-product\">\r\n                    <strong>{request.productType || 'Unknown Product'}</strong>\r\n                    <span>Quantity: {request.quantity}</span>\r\n                  </div>\r\n                  <div className=\"request-customer\">\r\n                    <span>Customer: {request.customerName || 'N/A'}</span>\r\n                  </div>\r\n                  <div className=\"request-dates\">\r\n                    <span>Requested: {new Date(request.createdAt).toLocaleDateString()}</span>\r\n                    {request.deliveryDate && (\r\n                      <span>Delivery: {new Date(request.deliveryDate).toLocaleDateString()}</span>\r\n                    )}\r\n                  </div>\r\n                  {request.totalAmount && (\r\n                    <div className=\"request-amount\">\r\n                      Estimated: ${request.totalAmount.toLocaleString()}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"request-actions\">\r\n                  <button\r\n                    className=\"request-action-btn primary\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      handleCreateOffer(request.id);\r\n                    }}\r\n                  >\r\n                    Create Offer\r\n                  </button>\r\n                  <button\r\n                    className=\"request-action-btn secondary\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      handleAcceptRequest(request.id);\r\n                    }}\r\n                  >\r\n                    Accept\r\n                  </button>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {selectedRequest && (\r\n        <div className=\"request-modal-overlay\" onClick={() => setSelectedRequest(null)}>\r\n          <motion.div\r\n            className=\"request-modal\"\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"request-modal-header\">\r\n              <h2>Request Details</h2>\r\n              <button className=\"modal-close\" onClick={() => setSelectedRequest(null)}>Ã—</button>\r\n            </div>\r\n            <div className=\"request-modal-body\">\r\n              <div className=\"request-detail-row\">\r\n                <span className=\"detail-label\">Request ID:</span>\r\n                <span className=\"detail-value\">#{selectedRequest.id}</span>\r\n              </div>\r\n              <div className=\"request-detail-row\">\r\n                <span className=\"detail-label\">Product:</span>\r\n                <span className=\"detail-value\">{selectedRequest.productType}</span>\r\n              </div>\r\n              <div className=\"request-detail-row\">\r\n                <span className=\"detail-label\">Quantity:</span>\r\n                <span className=\"detail-value\">{selectedRequest.quantity}</span>\r\n              </div>\r\n              <div className=\"request-detail-row\">\r\n                <span className=\"detail-label\">Customer:</span>\r\n                <span className=\"detail-value\">{selectedRequest.customerName || 'N/A'}</span>\r\n              </div>\r\n              <div className=\"request-detail-row\">\r\n                <span className=\"detail-label\">Delivery Date:</span>\r\n                <span className=\"detail-value\">\r\n                  {selectedRequest.deliveryDate \r\n                    ? new Date(selectedRequest.deliveryDate).toLocaleDateString()\r\n                    : 'Not specified'}\r\n                </span>\r\n              </div>\r\n              {selectedRequest.totalAmount && (\r\n                <div className=\"request-detail-row\">\r\n                  <span className=\"detail-label\">Estimated Amount:</span>\r\n                  <span className=\"detail-value amount\">\r\n                    ${selectedRequest.totalAmount.toLocaleString()}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"request-modal-actions\">\r\n              <button\r\n                className=\"modal-action-btn primary\"\r\n                onClick={() => {\r\n                  handleCreateOffer(selectedRequest.id);\r\n                  setSelectedRequest(null);\r\n                }}\r\n              >\r\n                Create Offer\r\n              </button>\r\n              <button\r\n                className=\"modal-action-btn secondary\"\r\n                onClick={() => {\r\n                  handleAcceptRequest(selectedRequest.id);\r\n                }}\r\n              >\r\n                Accept Request\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(OrderRequests);\r\n\r\n\r\n\r\n"],"names":["OrderRequests","_ref","orders","toast","useToast","searchQuery","setSearchQuery","useState","debouncedSearch","setDebouncedSearch","selectedRequest","setSelectedRequest","React","timer","setTimeout","clearTimeout","orderRequests","useMemo","filter","order","status","filteredRequests","request","_request$productType","_request$customerName","_request$id","productType","toLowerCase","includes","customerName","id","toString","handleCreateOffer","async","success","handleAcceptRequest","ordersAPI","updateOrderStatus","requestId","error","_jsxs","className","children","_jsx","type","placeholder","value","onChange","e","target","length","map","index","motion","div","initial","opacity","y","animate","transition","delay","onClick","quantity","Date","createdAt","toLocaleDateString","deliveryDate","totalAmount","toLocaleString","stopPropagation","scale","memo"],"sourceRoot":""}