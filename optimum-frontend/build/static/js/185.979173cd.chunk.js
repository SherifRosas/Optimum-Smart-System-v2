"use strict";(self.webpackChunkoptimum_frontend=self.webpackChunkoptimum_frontend||[]).push([[185],{9185:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var r=t(9379),i=t(5043),s=t(6446),o=t(9926),n=t(4505),l=t(8254),c=t(9930),m=t(579);const d=e=>{let{onSubmit:a}=e;const[t,d]=(0,i.useState)({customerName:"",phoneNumber:"",productType:"",quantity:"",deliveryDate:""}),[u,p]=(0,i.useState)(!1),[y,h]=(0,i.useState)({}),[N,x]=(0,i.useState)(""),[b,v]=(0,i.useState)(!1),[j,g]=(0,i.useState)(!1),f=(0,l.d)(),w=e=>{const{name:a,value:t}=e.target;d(e=>(0,r.A)((0,r.A)({},e),{},{[a]:t})),y[a]&&h(e=>(0,r.A)((0,r.A)({},e),{},{[a]:""}))},D=(0,i.useCallback)(async e=>{if(e.preventDefault(),(()=>{const e={};return t.customerName.trim()||(e.customerName="Customer name is required"),t.phoneNumber.trim()?/^[+]?[0-9\s\-()]{10,}$/.test(t.phoneNumber)||(e.phoneNumber="Please enter a valid phone number"):e.phoneNumber="Phone number is required",t.productType.trim()||(e.productType="Product type is required"),(!t.quantity||t.quantity<1)&&(e.quantity="Quantity must be at least 1"),t.deliveryDate?new Date(t.deliveryDate)<new Date&&(e.deliveryDate="Delivery date cannot be in the past"):e.deliveryDate="Delivery date is required",h(e),0===Object.keys(e).length})()){p(!0);try{await new Promise(e=>{window.requestIdleCallback?window.requestIdleCallback(()=>e(),{timeout:1e3}):setTimeout(e,1e3)}),a({customerName:t.customerName.trim(),phoneNumber:t.phoneNumber.trim(),productType:t.productType.trim(),quantity:parseInt(t.quantity),deliveryDate:t.deliveryDate}),d({customerName:"",phoneNumber:"",productType:"",quantity:"",deliveryDate:""})}catch(r){console.error("Error submitting order:",r)}finally{p(!1)}}},[t,a]);return(0,m.jsxs)("div",{className:"order-reception",children:[(0,m.jsxs)("div",{className:"page-header",children:[(0,m.jsx)("h2",{children:"New Order Reception"}),(0,m.jsx)("p",{children:"Enter customer order details below or use AI Fill for natural language input"})]}),(0,m.jsxs)(s.P.div,{className:"ai-fill-section",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[(0,m.jsxs)("button",{type:"button",className:"ai-fill-toggle",onClick:()=>g(!j),children:[(0,m.jsx)(o.pCw,{}),j?"Hide AI Fill":"Use AI Fill (Natural Language)"]}),j&&(0,m.jsxs)(s.P.div,{className:"ai-fill-panel",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,m.jsxs)("label",{htmlFor:"aiText",children:[(0,m.jsx)(o.pCw,{className:"input-icon"}),'Enter order text (e.g., "John Smith needs 2 laptops for next Friday")']}),(0,m.jsx)("textarea",{id:"aiText",value:N,onChange:e=>x(e.target.value),placeholder:"Example: I need 3 Dell laptops for customer Ahmed Mohamed, phone +20 100 123 4567, delivery by next Monday",rows:3,className:"ai-text-input"}),(0,m.jsx)("button",{type:"button",className:"ai-fill-btn",onClick:async()=>{if(N.trim()){v(!0);try{const e=await n.f3.analyzeOrderText(N),a=e.data.analysis||e.data;a.customer_name&&d(e=>(0,r.A)((0,r.A)({},e),{},{customerName:a.customer_name})),a.product_type&&d(e=>(0,r.A)((0,r.A)({},e),{},{productType:a.product_type})),a.quantity&&d(e=>(0,r.A)((0,r.A)({},e),{},{quantity:a.quantity.toString()})),a.delivery_date&&d(e=>(0,r.A)((0,r.A)({},e),{},{deliveryDate:a.delivery_date})),f.success("Form filled with AI analysis! Please review and adjust if needed."),g(!1),x("")}catch(e){console.error("AI Fill Error:",e),f.error("Failed to analyze order text. Please try again.")}finally{v(!1)}}else f.error("Please enter order text to analyze")},disabled:b||!N.trim(),children:b?"Analyzing...":"AI Fill Form"})]})]}),(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("form",{onSubmit:D,className:"order-form",children:[(0,m.jsxs)("div",{className:"form-row",children:[(0,m.jsxs)(s.P.div,{className:"form-group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[(0,m.jsxs)("label",{htmlFor:"customerName",children:[(0,m.jsx)(o.XPP,{className:"input-icon"}),"Customer Name *",(0,m.jsx)(c.A,{content:"Enter the full name of the customer placing the order",children:(0,m.jsx)(o.xR_,{className:"help-icon-small"})})]}),(0,m.jsx)("input",{type:"text",id:"customerName",name:"customerName",value:t.customerName,onChange:w,className:y.customerName?"error":"",placeholder:"Enter customer full name","aria-invalid":!!y.customerName,"aria-describedby":y.customerName?"customerName-error":void 0}),y.customerName&&(0,m.jsx)("span",{id:"customerName-error",className:"error-message",role:"alert",children:y.customerName})]}),(0,m.jsxs)(s.P.div,{className:"form-group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[(0,m.jsxs)("label",{htmlFor:"phoneNumber",children:[(0,m.jsx)(o.EWW,{className:"input-icon"}),"Phone Number *"]}),(0,m.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:t.phoneNumber,onChange:w,className:y.phoneNumber?"error":"",placeholder:"+20 100 123 4567","aria-invalid":!!y.phoneNumber,"aria-describedby":y.phoneNumber?"phoneNumber-error":void 0}),y.phoneNumber&&(0,m.jsx)("span",{id:"phoneNumber-error",className:"error-message",role:"alert",children:y.phoneNumber})]})]}),(0,m.jsxs)(s.P.div,{className:"form-group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[(0,m.jsxs)("label",{htmlFor:"productType",children:[(0,m.jsx)(o.tJR,{className:"input-icon"}),"Product Type *"]}),(0,m.jsx)("input",{type:"text",id:"productType",name:"productType",value:t.productType,onChange:w,className:y.productType?"error":"",placeholder:"e.g., Laptop Dell XPS 15, iPhone 15 Pro","aria-invalid":!!y.productType,"aria-describedby":y.productType?"productType-error":void 0}),y.productType&&(0,m.jsx)("span",{className:"error-message",children:y.productType})]}),(0,m.jsxs)("div",{className:"form-row",children:[(0,m.jsxs)(s.P.div,{className:"form-group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[(0,m.jsxs)("label",{htmlFor:"quantity",children:[(0,m.jsx)(o.wgT,{className:"input-icon"}),"Quantity *"]}),(0,m.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:t.quantity,onChange:w,className:y.quantity?"error":"",min:"1",placeholder:"1"}),y.quantity&&(0,m.jsx)("span",{className:"error-message",children:y.quantity})]}),(0,m.jsxs)(s.P.div,{className:"form-group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[(0,m.jsxs)("label",{htmlFor:"deliveryDate",children:[(0,m.jsx)(o.Ylv,{className:"input-icon"}),"Delivery Date *"]}),(0,m.jsx)("input",{type:"date",id:"deliveryDate",name:"deliveryDate",value:t.deliveryDate,onChange:w,className:y.deliveryDate?"error":"",min:(new Date).toISOString().split("T")[0]}),y.deliveryDate&&(0,m.jsx)("span",{className:"error-message",children:y.deliveryDate})]})]}),(0,m.jsx)("div",{className:"form-actions",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,"aria-label":u?"Creating order":"Create new order",title:u?"Creating order":"Create new order",children:u?"Creating Order...":"Create Order"})})]})})]})},u=(0,i.memo)(d)},9930:(e,a,t)=>{t.d(a,{A:()=>n});var r=t(5043),i=t(9570),s=t(6446),o=t(579);const n=e=>{let{children:a,content:t,position:n="top",delay:l=200}=e;const[c,m]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),p=()=>{const e=setTimeout(()=>m(!0),l);u(e)},y=()=>{d&&(clearTimeout(d),u(null)),m(!1)};return(0,o.jsxs)("div",{className:"tooltip-wrapper",onMouseEnter:p,onMouseLeave:y,onFocus:p,onBlur:y,children:[a,(0,o.jsx)(i.N,{children:c&&t&&(0,o.jsxs)(s.P.div,{className:"tooltip tooltip-".concat(n),initial:{opacity:0,scale:.8,y:"bottom"===n?-10:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:"bottom"===n?-10:10},transition:{duration:.2},children:[t,(0,o.jsx)("span",{className:"tooltip-arrow tooltip-arrow-".concat(n)})]})})]})}}}]);
//# sourceMappingURL=185.979173cd.chunk.js.map