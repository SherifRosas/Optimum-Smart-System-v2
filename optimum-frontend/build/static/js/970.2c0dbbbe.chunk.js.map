{"version":3,"file":"static/js/970.2c0dbbbe.chunk.js","mappings":"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","sources":["components/AIChatPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef, memo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { HiSparkles, HiPaperAirplane, HiTrash, HiDownload } from 'react-icons/hi';\r\nimport { aiAPI } from '../services/api';\r\nimport './AIChatPage.css';\r\n\r\nconst AIChatPage = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [sessionId, setSessionId] = useState(null);\r\n  const [quickActions, setQuickActions] = useState([]);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const storedSessionId = localStorage.getItem('chat_session_id');\r\n    if (storedSessionId) {\r\n      setSessionId(storedSessionId);\r\n      loadChatHistory(storedSessionId);\r\n    } else {\r\n      const newSessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n      setSessionId(newSessionId);\r\n      localStorage.setItem('chat_session_id', newSessionId);\r\n    }\r\n\r\n    // Load quick actions\r\n    setQuickActions([\r\n      \"How do I create a new order?\",\r\n      \"How do I filter orders?\",\r\n      \"What are the keyboard shortcuts?\",\r\n      \"How do I use AI features?\",\r\n      \"How do I update order status?\",\r\n      \"What charts are available?\"\r\n    ]);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const loadChatHistory = async (sessionId) => {\r\n    try {\r\n      const response = await aiAPI.getChatHistory(sessionId);\r\n      if (response.data.success) {\r\n        const historyMessages = response.data.messages.map(msg => ({\r\n          id: msg.id,\r\n          user: msg.user_message,\r\n          ai: msg.ai_response,\r\n          timestamp: msg.created_at,\r\n          type: msg.message_type\r\n        }));\r\n        setMessages(historyMessages);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading chat history:', err);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const userMessage = inputMessage.trim();\r\n    setInputMessage('');\r\n    \r\n    const userMsg = {\r\n      id: Date.now(),\r\n      user: userMessage,\r\n      ai: null,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await aiAPI.chat(userMessage, sessionId, {\r\n        include_orders: true\r\n      });\r\n\r\n      if (response.data.success) {\r\n        const aiMsg = {\r\n          id: response.data.message_id || Date.now() + 1,\r\n          user: userMessage,\r\n          ai: response.data.response,\r\n          timestamp: new Date().toISOString(),\r\n          suggestions: response.data.suggestions || [],\r\n          type: response.data.message_type\r\n        };\r\n        \r\n        setMessages(prev => {\r\n          const updated = [...prev];\r\n          updated[updated.length - 1] = aiMsg;\r\n          return updated;\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error('Error sending message:', err);\r\n      const errorMsg = {\r\n        id: Date.now() + 1,\r\n        user: userMessage,\r\n        ai: \"Sorry, I'm having trouble connecting. Please try again later.\",\r\n        timestamp: new Date().toISOString(),\r\n        isError: true\r\n      };\r\n      setMessages(prev => {\r\n        const updated = [...prev];\r\n        updated[updated.length - 1] = errorMsg;\r\n        return updated;\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const clearChat = async () => {\r\n    if (!sessionId || !window.confirm('Are you sure you want to clear all chat history?')) return;\r\n    \r\n    try {\r\n      await aiAPI.clearChat(sessionId);\r\n      setMessages([]);\r\n    } catch (err) {\r\n      console.error('Error clearing chat:', err);\r\n    }\r\n  };\r\n\r\n  const exportChat = () => {\r\n    const chatText = messages.map(msg => {\r\n      let text = `[${new Date(msg.timestamp).toLocaleString()}]\\n`;\r\n      if (msg.user) text += `You: ${msg.user}\\n`;\r\n      if (msg.ai) text += `AI: ${msg.ai}\\n`;\r\n      return text;\r\n    }).join('\\n---\\n\\n');\r\n\r\n    const blob = new Blob([chatText], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `chat_history_${new Date().toISOString().split('T')[0]}.txt`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleQuickAction = (action) => {\r\n    setInputMessage(action);\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-page\">\r\n      <div className=\"chat-page-header\">\r\n        <div className=\"header-left\">\r\n          <HiSparkles className=\"header-icon\" />\r\n          <div>\r\n            <h1>AI Chat Assistant</h1>\r\n            <p>Get help with the Optimum Smart System</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"header-actions\">\r\n          {messages.length > 0 && (\r\n            <>\r\n              <button className=\"action-btn\" onClick={exportChat} title=\"Export chat\">\r\n                <HiDownload />\r\n                Export\r\n              </button>\r\n              <button className=\"action-btn danger\" onClick={clearChat} title=\"Clear chat\">\r\n                <HiTrash />\r\n                Clear\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chat-page-content\">\r\n        {/* Quick Actions Sidebar */}\r\n        <div className=\"chat-sidebar\">\r\n          <h3>Quick Actions</h3>\r\n          <div className=\"quick-actions-list\">\r\n            {quickActions.map((action, idx) => (\r\n              <button\r\n                key={idx}\r\n                className=\"quick-action-btn\"\r\n                onClick={() => handleQuickAction(action)}\r\n              >\r\n                {action}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chat Area */}\r\n        <div className=\"chat-main\">\r\n          <div className=\"chat-messages-container\">\r\n            {messages.length === 0 && (\r\n              <div className=\"chat-welcome-full\">\r\n                <HiSparkles className=\"welcome-icon-large\" />\r\n                <h2>Welcome to AI Chat Assistant</h2>\r\n                <p>I can help you with:</p>\r\n                <div className=\"welcome-features\">\r\n                  <div className=\"feature-card\">\r\n                    <h4>System Navigation</h4>\r\n                    <p>Learn how to use features, keyboard shortcuts, and navigation</p>\r\n                  </div>\r\n                  <div className=\"feature-card\">\r\n                    <h4>Order Management</h4>\r\n                    <p>Get help creating, filtering, and updating orders</p>\r\n                  </div>\r\n                  <div className=\"feature-card\">\r\n                    <h4>Business Insights</h4>\r\n                    <p>Understand analytics, charts, and business data</p>\r\n                  </div>\r\n                  <div className=\"feature-card\">\r\n                    <h4>General Questions</h4>\r\n                    <p>Ask anything about the system and get instant answers</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"welcome-suggestions\">\r\n                  <p>Try asking:</p>\r\n                  {quickActions.slice(0, 3).map((action, idx) => (\r\n                    <button\r\n                      key={idx}\r\n                      className=\"welcome-suggestion-btn\"\r\n                      onClick={() => handleQuickAction(action)}\r\n                    >\r\n                      {action}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <AnimatePresence>\r\n              {messages.map((msg) => (\r\n                <motion.div\r\n                  key={msg.id}\r\n                  className=\"chat-message-group-full\"\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, scale: 0.9 }}\r\n                >\r\n                  {msg.user && (\r\n                    <div className=\"chat-message-full user-message-full\">\r\n                      <div className=\"message-avatar user-avatar\">You</div>\r\n                      <div className=\"message-content-full user-content\">\r\n                        {msg.user}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {msg.ai && (\r\n                    <div className=\"chat-message-full ai-message-full\">\r\n                      <div className=\"message-avatar ai-avatar\">\r\n                        <HiSparkles />\r\n                      </div>\r\n                      <div className=\"message-content-full ai-content\">\r\n                        {msg.ai}\r\n                        {msg.suggestions && msg.suggestions.length > 0 && (\r\n                          <div className=\"message-suggestions-full\">\r\n                            {msg.suggestions.map((suggestion, idx) => (\r\n                              <button\r\n                                key={idx}\r\n                                className=\"suggestion-btn-full\"\r\n                                onClick={() => handleQuickAction(suggestion)}\r\n                              >\r\n                                {suggestion}\r\n                              </button>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n\r\n            {isLoading && (\r\n              <div className=\"chat-message-full ai-message-full\">\r\n                <div className=\"message-avatar ai-avatar\">\r\n                  <HiSparkles />\r\n                </div>\r\n                <div className=\"message-content-full ai-content typing-full\">\r\n                  <span></span>\r\n                  <span></span>\r\n                  <span></span>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          <form className=\"chat-input-full\" onSubmit={sendMessage}>\r\n            <input\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n              placeholder=\"Ask me anything about the system...\"\r\n              disabled={isLoading}\r\n            />\r\n            <button type=\"submit\" disabled={!inputMessage.trim() || isLoading}>\r\n              <HiPaperAirplane />\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(AIChatPage);\r\n\r\n"],"names":["AIChatPage","messages","setMessages","useState","inputMessage","setInputMessage","isLoading","setIsLoading","sessionId","setSessionId","quickActions","setQuickActions","messagesEndRef","useRef","inputRef","useEffect","storedSessionId","localStorage","getItem","loadChatHistory","newSessionId","concat","Date","now","Math","random","toString","substr","setItem","_messagesEndRef$curre","current","scrollIntoView","behavior","async","response","aiAPI","getChatHistory","data","success","historyMessages","map","msg","id","user","user_message","ai","ai_response","timestamp","created_at","type","message_type","err","console","error","handleQuickAction","action","_inputRef$current","focus","_jsxs","className","children","_jsx","HiSparkles","length","_Fragment","onClick","exportChat","chatText","text","toLocaleString","join","blob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","toISOString","split","click","revokeObjectURL","title","HiDownload","window","confirm","clearChat","HiTrash","idx","slice","AnimatePresence","motion","div","initial","opacity","y","animate","exit","scale","suggestions","suggestion","ref","onSubmit","e","preventDefault","trim","userMessage","userMsg","prev","chat","include_orders","aiMsg","message_id","updated","errorMsg","isError","value","onChange","target","placeholder","disabled","HiPaperAirplane","memo"],"sourceRoot":""}