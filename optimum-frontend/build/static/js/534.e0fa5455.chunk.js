"use strict";(self.webpackChunkoptimum_frontend=self.webpackChunkoptimum_frontend||[]).push([[534],{2534:(e,s,a)=>{a.r(s),a.d(s,{default:()=>r});var l=a(5043),c=a(579);const i=e=>{let{orders:s}=e;const[a,i]=(0,l.useState)("month"),[r,d]=(0,l.useState)(!1),n=e=>{const s={laptop:15e3,iphone:25e3,desktop:12e3,tablet:8e3},a=e.productType.toLowerCase();let l=1e4;for(const[c,i]of Object.entries(s))if(a.includes(c)){l=i;break}return l*e.quantity},o=e=>.8*n(e),h=e=>n(e)-o(e),u=(0,l.useMemo)(()=>{const e=s.reduce((e,s)=>e+n(s),0),a=s.reduce((e,s)=>e+o(s),0),l=e-a;return{totalRevenue:e,totalCosts:a,totalProfit:l,profitMargin:e>0?l/e*100:0,orderCount:s.length}},[s]),m=(0,l.useMemo)(()=>s.reduce((e,s)=>(e[s.status]=(e[s.status]||0)+1,e),{}),[s]),x=(0,l.useMemo)(()=>{const e=s.reduce((e,s)=>(e[s.productType]=(e[s.productType]||0)+s.quantity,e),{});return Object.entries(e).sort((e,s)=>{let[,a]=e,[,l]=s;return l-a}).slice(0,5).map(e=>{let[s,a]=e;return{product:s,count:a}})},[s]),v=e=>new Intl.NumberFormat("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),j={pending:"Pending","in-preparation":"In Preparation",ready:"Ready",delivered:"Delivered"};return(0,c.jsxs)("div",{className:"accounting",children:[(0,c.jsxs)("div",{className:"page-header",children:[(0,c.jsx)("h2",{children:"Accounting & Financials"}),(0,c.jsx)("p",{children:"Track revenue, costs, and profitability"})]}),(0,c.jsxs)("div",{className:"period-selector",children:[(0,c.jsx)("label",{htmlFor:"period",children:"Time Period:"}),(0,c.jsxs)("select",{id:"period",value:a,onChange:e=>i(e.target.value),className:"period-select",children:[(0,c.jsx)("option",{value:"week",children:"This Week"}),(0,c.jsx)("option",{value:"month",children:"This Month"}),(0,c.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,c.jsx)("option",{value:"year",children:"This Year"})]})]}),(0,c.jsxs)("div",{className:"financial-overview",children:[(0,c.jsxs)("div",{className:"financial-card revenue",children:[(0,c.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-value",children:v(u.totalRevenue)}),(0,c.jsx)("div",{className:"card-label",children:"Total Revenue"})]})]}),(0,c.jsxs)("div",{className:"financial-card costs",children:[(0,c.jsx)("div",{className:"card-icon",children:"\ud83d\udcb8"}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-value",children:v(u.totalCosts)}),(0,c.jsx)("div",{className:"card-label",children:"Total Costs"})]})]}),(0,c.jsxs)("div",{className:"financial-card profit",children:[(0,c.jsx)("div",{className:"card-icon",children:"\ud83d\udcc8"}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsx)("div",{className:"card-value",children:v(u.totalProfit)}),(0,c.jsx)("div",{className:"card-label",children:"Net Profit"})]})]}),(0,c.jsxs)("div",{className:"financial-card margin",children:[(0,c.jsx)("div",{className:"card-icon",children:"\ud83d\udcca"}),(0,c.jsxs)("div",{className:"card-content",children:[(0,c.jsxs)("div",{className:"card-value",children:[u.profitMargin.toFixed(1),"%"]}),(0,c.jsx)("div",{className:"card-label",children:"Profit Margin"})]})]})]}),(0,c.jsxs)("div",{className:"accounting-content",children:[(0,c.jsxs)("div",{className:"accounting-section",children:[(0,c.jsx)("div",{className:"section-header",children:(0,c.jsx)("h3",{children:"Order Status Distribution"})}),(0,c.jsx)("div",{className:"status-breakdown",children:Object.entries(m).map(e=>{let[s,a]=e;return(0,c.jsxs)("div",{className:"status-item",children:[(0,c.jsxs)("div",{className:"status-info",children:[(0,c.jsx)("span",{className:"status-label",children:j[s]}),(0,c.jsxs)("span",{className:"status-count",children:[a," orders"]})]}),(0,c.jsx)("div",{className:"status-bar",children:(0,c.jsx)("div",{className:"status-fill",style:{width:"".concat(a/u.orderCount*100,"%"),backgroundColor:t(s)}})})]},s)})})]}),(0,c.jsxs)("div",{className:"accounting-section",children:[(0,c.jsx)("div",{className:"section-header",children:(0,c.jsx)("h3",{children:"Top Products by Quantity"})}),(0,c.jsx)("div",{className:"top-products",children:0===x.length?(0,c.jsx)("p",{className:"no-data",children:"No products data available"}):x.map((e,s)=>(0,c.jsxs)("div",{className:"product-item",children:[(0,c.jsxs)("div",{className:"product-rank",children:["#",s+1]}),(0,c.jsxs)("div",{className:"product-info",children:[(0,c.jsx)("div",{className:"product-name",children:e.product}),(0,c.jsxs)("div",{className:"product-quantity",children:[e.count," units sold"]})]})]},e.product))})]})]}),(0,c.jsxs)("div",{className:"detailed-view",children:[(0,c.jsxs)("div",{className:"section-header",children:[(0,c.jsx)("h3",{children:"Detailed Order Analysis"}),(0,c.jsx)("button",{onClick:()=>d(!r),className:"toggle-button",children:r?"Hide Details":"Show Details"})]}),r&&(0,c.jsxs)("div",{className:"orders-table",children:[(0,c.jsxs)("div",{className:"table-header",children:[(0,c.jsx)("div",{className:"table-cell",children:"Order #"}),(0,c.jsx)("div",{className:"table-cell",children:"Customer"}),(0,c.jsx)("div",{className:"table-cell",children:"Product"}),(0,c.jsx)("div",{className:"table-cell",children:"Qty"}),(0,c.jsx)("div",{className:"table-cell",children:"Revenue"}),(0,c.jsx)("div",{className:"table-cell",children:"Cost"}),(0,c.jsx)("div",{className:"table-cell",children:"Profit"}),(0,c.jsx)("div",{className:"table-cell",children:"Status"})]}),s.map(e=>(0,c.jsxs)("div",{className:"table-row",children:[(0,c.jsxs)("div",{className:"table-cell",children:["#",e.id]}),(0,c.jsx)("div",{className:"table-cell",children:e.customerName}),(0,c.jsx)("div",{className:"table-cell",children:e.productType}),(0,c.jsx)("div",{className:"table-cell",children:e.quantity}),(0,c.jsx)("div",{className:"table-cell revenue",children:v(n(e))}),(0,c.jsx)("div",{className:"table-cell cost",children:v(o(e))}),(0,c.jsx)("div",{className:"table-cell profit",children:v(h(e))}),(0,c.jsx)("div",{className:"table-cell",children:(0,c.jsx)("span",{className:"status-badge status-".concat(e.status.replace("-","-")),children:j[e.status]})})]},e.id))]})]}),(0,c.jsxs)("div",{className:"export-section",children:[(0,c.jsx)("button",{className:"export-button","aria-label":"Export data to Excel",title:"Export data to Excel",children:"\ud83d\udcc4 Export to Excel"}),(0,c.jsx)("button",{className:"export-button","aria-label":"Generate report",title:"Generate report",children:"\ud83d\udcca Generate Report"})]})]})},t=e=>({pending:"#ffc107","in-preparation":"#17a2b8",ready:"#28a745",delivered:"#6c757d"}[e]||"#6c757d"),r=(0,l.memo)(i)}}]);
//# sourceMappingURL=534.e0fa5455.chunk.js.map