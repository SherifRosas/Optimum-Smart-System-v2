{"version":3,"file":"static/js/303.db81ddaa.chunk.js","mappings":"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","sources":["components/CustomerOrders.js"],"sourcesContent":["import React, { useState, useMemo, memo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport './CustomerOrders.css';\r\n\r\nconst CustomerOrders = ({ orders = [] }) => {\r\n  const { user } = useAuth();\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [debouncedSearch, setDebouncedSearch] = useState('');\r\n\r\n  // Debounce search\r\n  React.useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearch(searchQuery);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  // Filter orders for this customer only\r\n  const customerOrders = useMemo(() => {\r\n    if (!user?.id) return [];\r\n    return orders.filter(order => {\r\n      // Match by customer_id if available\r\n      if (order.customer_id) {\r\n        return order.customer_id === user.id;\r\n      }\r\n      // Fallback matching (will be improved with backend)\r\n      return true;\r\n    });\r\n  }, [orders, user]);\r\n\r\n  const filteredOrders = useMemo(() => {\r\n    return customerOrders.filter(order => {\r\n      const matchesStatus = filterStatus === 'all' || order.status === filterStatus;\r\n      const matchesSearch = debouncedSearch === '' || \r\n        order.productType?.toLowerCase().includes(debouncedSearch.toLowerCase()) ||\r\n        order.id?.toString().includes(debouncedSearch);\r\n      return matchesStatus && matchesSearch;\r\n    });\r\n  }, [customerOrders, filterStatus, debouncedSearch]);\r\n\r\n  const statusOptions = [\r\n    { value: 'all', label: 'All Orders' },\r\n    { value: 'pending', label: 'Pending' },\r\n    { value: 'in-preparation', label: 'In Preparation' },\r\n    { value: 'ready', label: 'Ready' },\r\n    { value: 'delivered', label: 'Delivered' }\r\n  ];\r\n\r\n  const getStatusClass = (status) => {\r\n    return `customer-order-status status-${status}`;\r\n  };\r\n\r\n  const getStatusLabel = (status) => {\r\n    return status.replace('-', ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n  };\r\n\r\n  return (\r\n    <div className=\"customer-orders\">\r\n      <div className=\"customer-orders-header\">\r\n        <h1>My Orders</h1>\r\n        <p>Track and view all your orders</p>\r\n      </div>\r\n\r\n      <div className=\"customer-orders-filters\">\r\n        <div className=\"customer-search-box\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by product or order ID...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"customer-search-input\"\r\n          />\r\n        </div>\r\n        <div className=\"customer-filter-group\">\r\n          <label>Filter by Status:</label>\r\n          <select\r\n            value={filterStatus}\r\n            onChange={(e) => setFilterStatus(e.target.value)}\r\n            className=\"customer-filter-select\"\r\n          >\r\n            {statusOptions.map(option => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"customer-orders-content\">\r\n        {filteredOrders.length === 0 ? (\r\n          <div className=\"customer-empty-state\">\r\n            <p>No orders found.</p>\r\n            {customerOrders.length === 0 && (\r\n              <p>You haven't placed any orders yet. Click \"New Request\" to create your first order!</p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"customer-orders-grid\">\r\n            {filteredOrders.map((order, index) => (\r\n              <motion.div\r\n                key={order.id}\r\n                className=\"customer-order-item\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: index * 0.05 }}\r\n              >\r\n                <div className=\"customer-order-item-header\">\r\n                  <span className=\"customer-order-item-id\">Order #{order.id}</span>\r\n                  <span className={getStatusClass(order.status)}>\r\n                    {getStatusLabel(order.status)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"customer-order-item-body\">\r\n                  <div className=\"customer-order-item-product\">\r\n                    <strong>{order.productType || 'Unknown Product'}</strong>\r\n                    <span>Quantity: {order.quantity}</span>\r\n                  </div>\r\n                  <div className=\"customer-order-item-info\">\r\n                    <div className=\"customer-order-item-row\">\r\n                      <span className=\"label\">Order Date:</span>\r\n                      <span className=\"value\">\r\n                        {new Date(order.createdAt).toLocaleDateString()}\r\n                      </span>\r\n                    </div>\r\n                    {order.deliveryDate && (\r\n                      <div className=\"customer-order-item-row\">\r\n                        <span className=\"label\">Delivery Date:</span>\r\n                        <span className=\"value\">\r\n                          {new Date(order.deliveryDate).toLocaleDateString()}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    {order.totalAmount && (\r\n                      <div className=\"customer-order-item-row\">\r\n                        <span className=\"label\">Total Amount:</span>\r\n                        <span className=\"value amount\">\r\n                          ${order.totalAmount.toLocaleString()}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(CustomerOrders);\r\n\r\n\r\n\r\n"],"names":["CustomerOrders","_ref","orders","user","useAuth","filterStatus","setFilterStatus","useState","searchQuery","setSearchQuery","debouncedSearch","setDebouncedSearch","React","timer","setTimeout","clearTimeout","customerOrders","useMemo","id","filter","order","customer_id","filteredOrders","_order$productType","_order$id","matchesStatus","status","matchesSearch","productType","toLowerCase","includes","toString","getStatusLabel","replace","l","toUpperCase","_jsxs","className","children","_jsx","type","placeholder","value","onChange","e","target","label","map","option","length","index","motion","div","initial","opacity","y","animate","transition","delay","concat","quantity","Date","createdAt","toLocaleDateString","deliveryDate","totalAmount","toLocaleString","memo"],"sourceRoot":""}