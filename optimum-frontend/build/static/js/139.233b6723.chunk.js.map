{"version":3,"file":"static/js/139.233b6723.chunk.js","mappings":"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","sources":["components/SupplierCommunication.js"],"sourcesContent":["import React, { useState, memo } from 'react';\nimport './SupplierCommunication.css';\n\nconst SupplierCommunication = ({ orders }) => {\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [messages, setMessages] = useState({});\n  const [newMessage, setNewMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Mock suppliers data\n  const suppliers = [\n    { id: 1, name: 'Tech Solutions Ltd', email: 'orders@techsolutions.com', phone: '+20 100 111 2222', rating: 4.8 },\n    { id: 2, name: 'Electronics Hub', email: 'contact@electronicshub.com', phone: '+20 100 333 4444', rating: 4.5 },\n    { id: 3, name: 'Digital World', email: 'sales@digitalworld.com', phone: '+20 100 555 6666', rating: 4.2 }\n  ];\n\n  const getOrderSupplier = (order) => {\n    // Mock logic to assign supplier based on product type\n    if (order.productType && order.productType.toLowerCase().includes('laptop')) {\n      return suppliers[0];\n    } else if (order.productType && order.productType.toLowerCase().includes('iphone')) {\n      return suppliers[1];\n    } else {\n      return suppliers[2];\n    }\n  };\n\n  const handleOrderSelect = (order) => {\n    setSelectedOrder(order);\n    // Initialize messages if not exists\n    if (!messages[order.id]) {\n      setMessages(prev => ({\n        ...prev,\n        [order.id]: [\n          {\n            id: 1,\n            type: 'system',\n            message: `Order #${order.id} has been sent to ${getOrderSupplier(order).name}`,\n            timestamp: new Date().toISOString()\n          }\n        ]\n      }));\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !selectedOrder) return;\n\n    setIsLoading(true);\n    \n    try {\n      // Simulate API call (use requestIdleCallback for non-blocking delay)\n      await new Promise(resolve => {\n        if (window.requestIdleCallback) {\n          window.requestIdleCallback(() => resolve(), { timeout: 1000 });\n        } else {\n          setTimeout(resolve, 1000);\n        }\n      });\n      \n      const message = {\n        id: Date.now(),\n        type: 'outgoing',\n        message: newMessage.trim(),\n        timestamp: new Date().toISOString()\n      };\n\n      setMessages(prev => ({\n        ...prev,\n        [selectedOrder.id]: [...(prev[selectedOrder.id] || []), message]\n      }));\n\n      setNewMessage('');\n      \n      // Simulate supplier response (use requestIdleCallback for non-blocking)\n      const scheduleResponse = () => {\n        if (window.requestIdleCallback) {\n          window.requestIdleCallback(() => {\n            const response = {\n              id: Date.now() + 1,\n              type: 'incoming',\n              message: 'Thank you for your order. We will process it within 24 hours.',\n              timestamp: new Date().toISOString()\n            };\n\n            setMessages(prev => ({\n              ...prev,\n              [selectedOrder.id]: [...(prev[selectedOrder.id] || []), response]\n            }));\n          }, { timeout: 2000 });\n        } else {\n          setTimeout(() => {\n            const response = {\n              id: Date.now() + 1,\n              type: 'incoming',\n              message: 'Thank you for your order. We will process it within 24 hours.',\n              timestamp: new Date().toISOString()\n            };\n\n            setMessages(prev => ({\n              ...prev,\n              [selectedOrder.id]: [...(prev[selectedOrder.id] || []), response]\n            }));\n          }, 2000);\n        }\n      };\n      \n      scheduleResponse();\n      \n    } catch (error) {\n      console.error('Error sending message:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const formatTimestamp = (timestamp) => {\n    return new Date(timestamp).toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusClass = (status) => {\n    return `status-badge status-${status.replace('-', '-')}`;\n  };\n\n  const statusLabels = {\n    'pending': 'Pending',\n    'in-preparation': 'In Preparation',\n    'ready': 'Ready',\n    'delivered': 'Delivered'\n  };\n\n  return (\n    <div className=\"supplier-communication\">\n      <div className=\"page-header\">\n        <h2>Supplier Communication</h2>\n        <p>Communicate with suppliers about orders</p>\n      </div>\n\n      <div className=\"communication-layout\">\n        <div className=\"orders-panel\">\n          <div className=\"panel-header\">\n            <h3>Orders</h3>\n            <span className=\"order-count\">{orders.length} orders</span>\n          </div>\n          \n          <div className=\"orders-list\">\n            {orders.length === 0 ? (\n              <div className=\"no-orders\">\n                <p>No orders available</p>\n              </div>\n            ) : (\n              orders.map(order => {\n                const supplier = getOrderSupplier(order);\n                const orderMessages = messages[order.id] || [];\n                const lastMessage = orderMessages[orderMessages.length - 1];\n                \n                return (\n                  <div\n                    key={order.id}\n                    className={`order-item ${selectedOrder?.id === order.id ? 'selected' : ''}`}\n                    onClick={() => handleOrderSelect(order)}\n                  >\n                    <div className=\"order-header\">\n                      <div className=\"order-id\">Order #{order.id}</div>\n                      <span className={getStatusClass(order.status)}>\n                        {statusLabels[order.status]}\n                      </span>\n                    </div>\n                    \n                    <div className=\"order-details\">\n                      <div className=\"customer-name\">{order.customerName}</div>\n                      <div className=\"product-type\">{order.productType}</div>\n                      <div className=\"supplier-info\">\n                        <span className=\"supplier-name\">{supplier.name}</span>\n                        <span className=\"supplier-rating\">‚≠ê {supplier.rating}</span>\n                      </div>\n                    </div>\n                    \n                    {lastMessage && (\n                      <div className=\"last-message\">\n                        <span className=\"message-preview\">\n                          {lastMessage.type === 'system' ? 'System: ' : \n                           lastMessage.type === 'outgoing' ? 'You: ' : \n                           'Supplier: '}\n                          {lastMessage.message.substring(0, 50)}\n                          {lastMessage.message.length > 50 ? '...' : ''}\n                        </span>\n                        <span className=\"message-time\">\n                          {formatTimestamp(lastMessage.timestamp)}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </div>\n\n        <div className=\"chat-panel\">\n          {selectedOrder ? (\n            <>\n              <div className=\"chat-header\">\n                <div className=\"chat-order-info\">\n                  <h3>Order #{selectedOrder.id}</h3>\n                  <p>{selectedOrder.customerName} - {selectedOrder.productType}</p>\n                </div>\n                <div className=\"supplier-info\">\n                  <div className=\"supplier-name\">{getOrderSupplier(selectedOrder).name}</div>\n                  <div className=\"supplier-contact\">\n                    <span>{getOrderSupplier(selectedOrder).email}</span>\n                    <span>{getOrderSupplier(selectedOrder).phone}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"messages-container\">\n                {messages[selectedOrder.id]?.map(message => (\n                  <div key={message.id} className={`message ${message.type}`}>\n                    <div className=\"message-content\">\n                      <div className=\"message-text\">{message.message}</div>\n                      <div className=\"message-time\">{formatTimestamp(message.timestamp)}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"message-input\">\n                <div className=\"input-container\">\n                  <textarea\n                    value={newMessage}\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    placeholder=\"Type your message to the supplier...\"\n                    rows=\"3\"\n                    disabled={isLoading}\n                  />\n                  <button\n                    onClick={handleSendMessage}\n                    disabled={!newMessage.trim() || isLoading}\n                    className=\"send-button\"\n                    aria-label={isLoading ? \"Sending message\" : \"Send message to supplier\"}\n                    title={isLoading ? \"Sending message\" : \"Send message to supplier\"}\n                  >\n                    {isLoading ? 'Sending...' : 'Send'}\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div className=\"no-selection\">\n              <div className=\"no-selection-content\">\n                <div className=\"no-selection-icon\">üí¨</div>\n                <h3>Select an Order</h3>\n                <p>Choose an order from the list to start communicating with the supplier</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(SupplierCommunication);"],"names":["SupplierCommunication","_ref","_messages$selectedOrd","orders","selectedOrder","setSelectedOrder","useState","messages","setMessages","newMessage","setNewMessage","isLoading","setIsLoading","suppliers","id","name","email","phone","rating","getOrderSupplier","order","productType","toLowerCase","includes","formatTimestamp","timestamp","Date","toLocaleString","month","day","hour","minute","statusLabels","_jsxs","className","children","_jsx","length","map","supplier","orderMessages","lastMessage","concat","onClick","prev","_objectSpread","type","message","toISOString","handleOrderSelect","status","replace","customerName","substring","_Fragment","value","onChange","e","target","placeholder","rows","disabled","async","trim","Promise","resolve","window","requestIdleCallback","timeout","setTimeout","now","scheduleResponse","response","error","console","title","memo"],"sourceRoot":""}