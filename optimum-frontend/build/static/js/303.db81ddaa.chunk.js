"use strict";(self.webpackChunkoptimum_frontend=self.webpackChunkoptimum_frontend||[]).push([[303],{6303:(e,s,r)=>{r.r(s),r.d(s,{default:()=>i});var a=r(5043),t=r(6446),l=r(5016),c=r(579);const d=e=>{let{orders:s=[]}=e;const{user:r}=(0,l.A)(),[d,i]=(0,a.useState)("all"),[o,n]=(0,a.useState)(""),[u,m]=(0,a.useState)("");a.useEffect(()=>{const e=setTimeout(()=>{m(o)},300);return()=>clearTimeout(e)},[o]);const h=(0,a.useMemo)(()=>null!==r&&void 0!==r&&r.id?s.filter(e=>!e.customer_id||e.customer_id===r.id):[],[s,r]),v=(0,a.useMemo)(()=>h.filter(e=>{var s,r;const a="all"===d||e.status===d,t=""===u||(null===(s=e.productType)||void 0===s?void 0:s.toLowerCase().includes(u.toLowerCase()))||(null===(r=e.id)||void 0===r?void 0:r.toString().includes(u));return a&&t}),[h,d,u]),p=e=>e.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,c.jsxs)("div",{className:"customer-orders",children:[(0,c.jsxs)("div",{className:"customer-orders-header",children:[(0,c.jsx)("h1",{children:"My Orders"}),(0,c.jsx)("p",{children:"Track and view all your orders"})]}),(0,c.jsxs)("div",{className:"customer-orders-filters",children:[(0,c.jsx)("div",{className:"customer-search-box",children:(0,c.jsx)("input",{type:"text",placeholder:"Search by product or order ID...",value:o,onChange:e=>n(e.target.value),className:"customer-search-input"})}),(0,c.jsxs)("div",{className:"customer-filter-group",children:[(0,c.jsx)("label",{children:"Filter by Status:"}),(0,c.jsx)("select",{value:d,onChange:e=>i(e.target.value),className:"customer-filter-select",children:[{value:"all",label:"All Orders"},{value:"pending",label:"Pending"},{value:"in-preparation",label:"In Preparation"},{value:"ready",label:"Ready"},{value:"delivered",label:"Delivered"}].map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,c.jsx)("div",{className:"customer-orders-content",children:0===v.length?(0,c.jsxs)("div",{className:"customer-empty-state",children:[(0,c.jsx)("p",{children:"No orders found."}),0===h.length&&(0,c.jsx)("p",{children:'You haven\'t placed any orders yet. Click "New Request" to create your first order!'})]}):(0,c.jsx)("div",{className:"customer-orders-grid",children:v.map((e,s)=>{return(0,c.jsxs)(t.P.div,{className:"customer-order-item",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},children:[(0,c.jsxs)("div",{className:"customer-order-item-header",children:[(0,c.jsxs)("span",{className:"customer-order-item-id",children:["Order #",e.id]}),(0,c.jsx)("span",{className:(r=e.status,"customer-order-status status-".concat(r)),children:p(e.status)})]}),(0,c.jsxs)("div",{className:"customer-order-item-body",children:[(0,c.jsxs)("div",{className:"customer-order-item-product",children:[(0,c.jsx)("strong",{children:e.productType||"Unknown Product"}),(0,c.jsxs)("span",{children:["Quantity: ",e.quantity]})]}),(0,c.jsxs)("div",{className:"customer-order-item-info",children:[(0,c.jsxs)("div",{className:"customer-order-item-row",children:[(0,c.jsx)("span",{className:"label",children:"Order Date:"}),(0,c.jsx)("span",{className:"value",children:new Date(e.createdAt).toLocaleDateString()})]}),e.deliveryDate&&(0,c.jsxs)("div",{className:"customer-order-item-row",children:[(0,c.jsx)("span",{className:"label",children:"Delivery Date:"}),(0,c.jsx)("span",{className:"value",children:new Date(e.deliveryDate).toLocaleDateString()})]}),e.totalAmount&&(0,c.jsxs)("div",{className:"customer-order-item-row",children:[(0,c.jsx)("span",{className:"label",children:"Total Amount:"}),(0,c.jsxs)("span",{className:"value amount",children:["$",e.totalAmount.toLocaleString()]})]})]})]})]},e.id);var r})})})]})},i=(0,a.memo)(d)}}]);
//# sourceMappingURL=303.db81ddaa.chunk.js.map