{"version":3,"file":"static/js/301.e8f4b81a.chunk.js","mappings":"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","sources":["components/NewOrderRequest.js","components/Tooltip.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { ordersAPI, aiAPI } from '../services/api';\r\nimport { useToast } from '../hooks/useToast';\r\nimport Tooltip from './Tooltip';\r\nimport './NewOrderRequest.css';\r\n\r\nconst NewOrderRequest = ({ onSubmit }) => {\r\n  const { user } = useAuth();\r\n  const toast = useToast();\r\n  const [formData, setFormData] = useState({\r\n    productType: '',\r\n    quantity: '',\r\n    deliveryDate: '',\r\n    notes: ''\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [aiLoading, setAiLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors(prev => ({ ...prev, [name]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleAIFill = async () => {\r\n    const text = prompt('Describe your order in natural language:\\n\\nExample: \"I need 3 Dell laptops for customer John Smith, phone +1234567890, delivery by next Monday\"');\r\n    if (!text || !text.trim()) return;\r\n\r\n    setAiLoading(true);\r\n    try {\r\n      const response = await aiAPI.analyzeOrderText(text);\r\n      const analysis = response.data.analysis;\r\n      \r\n      if (analysis) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          productType: analysis.product_type || prev.productType,\r\n          quantity: analysis.quantity || prev.quantity,\r\n          deliveryDate: analysis.delivery_date || prev.deliveryDate,\r\n          notes: text\r\n        }));\r\n        toast.success('Form filled successfully!');\r\n      }\r\n    } catch (error) {\r\n      toast.error('AI Fill failed. Please fill the form manually.');\r\n    } finally {\r\n      setAiLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    if (!formData.productType.trim()) {\r\n      newErrors.productType = 'Product type is required';\r\n    }\r\n    \r\n    if (!formData.quantity || parseInt(formData.quantity) < 1) {\r\n      newErrors.quantity = 'Quantity must be at least 1';\r\n    }\r\n    \r\n    if (!formData.deliveryDate) {\r\n      newErrors.deliveryDate = 'Delivery date is required';\r\n    } else {\r\n      const deliveryDate = new Date(formData.deliveryDate);\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n      if (deliveryDate < today) {\r\n        newErrors.deliveryDate = 'Delivery date cannot be in the past';\r\n      }\r\n    }\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      toast.error('Please fix the errors in the form');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const orderData = {\r\n        customer: {\r\n          name: user?.first_name && user?.last_name \r\n            ? `${user.first_name} ${user.last_name}` \r\n            : user?.username || 'Customer',\r\n          phone_number: user?.phone_number || user?.phone || ''\r\n        },\r\n        product_type: formData.productType.trim(),\r\n        quantity: parseInt(formData.quantity),\r\n        delivery_date: formData.deliveryDate,\r\n        notes: formData.notes || ''\r\n      };\r\n\r\n      if (onSubmit) {\r\n        await onSubmit(orderData);\r\n      } else {\r\n        await ordersAPI.createOrder(orderData);\r\n        toast.success('Order request created successfully!');\r\n      }\r\n\r\n      // Reset form\r\n      setFormData({\r\n        productType: '',\r\n        quantity: '',\r\n        deliveryDate: '',\r\n        notes: ''\r\n      });\r\n    } catch (error) {\r\n      toast.error('Failed to create order request. Please try again.');\r\n      console.error('Error creating order:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"new-order-request\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"order-request-container\"\r\n      >\r\n        <div className=\"order-request-header\">\r\n          <h1>New Order Request</h1>\r\n          <p>Request a product order. Our team will process your request and assign a supplier.</p>\r\n        </div>\r\n\r\n        <div className=\"ai-fill-section\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleAIFill}\r\n            disabled={aiLoading}\r\n            className=\"ai-fill-button\"\r\n          >\r\n            {aiLoading ? 'Processing...' : '✨ Use AI Fill (Natural Language)'}\r\n          </button>\r\n          <p className=\"ai-fill-hint\">Describe your order in plain text and let AI fill the form for you!</p>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"order-request-form\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"productType\">\r\n              Product Type *\r\n              <Tooltip content=\"Enter the type of product you need (e.g., Laptop Dell XPS 15, iPhone 15, etc.)\">\r\n                <span className=\"tooltip-icon\">ℹ️</span>\r\n              </Tooltip>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"productType\"\r\n              name=\"productType\"\r\n              value={formData.productType}\r\n              onChange={handleChange}\r\n              className={errors.productType ? 'error' : ''}\r\n              placeholder=\"e.g., Laptop Dell XPS 15\"\r\n              required\r\n            />\r\n            {errors.productType && (\r\n              <span className=\"error-message\">{errors.productType}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"quantity\">\r\n              Quantity *\r\n              <Tooltip content=\"Enter the number of items you need\">\r\n                <span className=\"tooltip-icon\">ℹ️</span>\r\n              </Tooltip>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"quantity\"\r\n              name=\"quantity\"\r\n              value={formData.quantity}\r\n              onChange={handleChange}\r\n              className={errors.quantity ? 'error' : ''}\r\n              placeholder=\"e.g., 5\"\r\n              min=\"1\"\r\n              required\r\n            />\r\n            {errors.quantity && (\r\n              <span className=\"error-message\">{errors.quantity}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"deliveryDate\">\r\n              Delivery Date *\r\n              <Tooltip content=\"Select when you need the products delivered\">\r\n                <span className=\"tooltip-icon\">ℹ️</span>\r\n              </Tooltip>\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"deliveryDate\"\r\n              name=\"deliveryDate\"\r\n              value={formData.deliveryDate}\r\n              onChange={handleChange}\r\n              className={errors.deliveryDate ? 'error' : ''}\r\n              min={new Date().toISOString().split('T')[0]}\r\n              required\r\n            />\r\n            {errors.deliveryDate && (\r\n              <span className=\"error-message\">{errors.deliveryDate}</span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"notes\">\r\n              Additional Notes\r\n              <Tooltip content=\"Any special requirements or notes about your order\">\r\n                <span className=\"tooltip-icon\">ℹ️</span>\r\n              </Tooltip>\r\n            </label>\r\n            <textarea\r\n              id=\"notes\"\r\n              name=\"notes\"\r\n              value={formData.notes}\r\n              onChange={handleChange}\r\n              placeholder=\"Any special requirements, specifications, or notes...\"\r\n              rows=\"4\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-actions\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"submit-button\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Submitting...' : 'Submit Order Request'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewOrderRequest;\r\n\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport './Tooltip.css';\r\n\r\nconst Tooltip = ({ children, content, position = 'top', delay = 200 }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [timeoutId, setTimeoutId] = useState(null);\r\n\r\n  const showTooltip = () => {\r\n    const id = setTimeout(() => setIsVisible(true), delay);\r\n    setTimeoutId(id);\r\n  };\r\n\r\n  const hideTooltip = () => {\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId);\r\n      setTimeoutId(null);\r\n    }\r\n    setIsVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"tooltip-wrapper\"\r\n      onMouseEnter={showTooltip}\r\n      onMouseLeave={hideTooltip}\r\n      onFocus={showTooltip}\r\n      onBlur={hideTooltip}\r\n    >\r\n      {children}\r\n      <AnimatePresence>\r\n        {isVisible && content && (\r\n          <motion.div\r\n            className={`tooltip tooltip-${position}`}\r\n            initial={{ opacity: 0, scale: 0.8, y: position === 'bottom' ? -10 : 10 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.8, y: position === 'bottom' ? -10 : 10 }}\r\n            transition={{ duration: 0.2 }}\r\n          >\r\n            {content}\r\n            <span className={`tooltip-arrow tooltip-arrow-${position}`} />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tooltip;\r\n\r\n"],"names":["_ref","onSubmit","user","useAuth","toast","useToast","formData","setFormData","useState","productType","quantity","deliveryDate","notes","errors","setErrors","loading","setLoading","aiLoading","setAiLoading","handleChange","e","name","value","target","prev","_objectSpread","_jsx","className","children","_jsxs","motion","div","initial","opacity","y","animate","type","onClick","async","text","prompt","trim","analysis","aiAPI","analyzeOrderText","data","product_type","delivery_date","success","error","disabled","preventDefault","validateForm","newErrors","parseInt","Date","today","setHours","Object","keys","length","orderData","customer","first_name","last_name","concat","username","phone_number","phone","ordersAPI","createOrder","console","htmlFor","Tooltip","content","id","onChange","placeholder","required","min","toISOString","split","rows","position","delay","isVisible","setIsVisible","timeoutId","setTimeoutId","showTooltip","setTimeout","hideTooltip","clearTimeout","onMouseEnter","onMouseLeave","onFocus","onBlur","AnimatePresence","scale","exit","transition","duration"],"sourceRoot":""}