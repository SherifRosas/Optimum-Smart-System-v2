{"version":3,"file":"static/js/90.ad3579d8.chunk.js","mappings":"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","sources":["components/SupplierDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, memo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { ordersAPI } from '../services/api';\r\nimport './SupplierDashboard.css';\r\n\r\nconst SupplierDashboard = ({ orders = [] }) => {\r\n  const { user } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await ordersAPI.getDashboardStats();\r\n      setStats(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching stats:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filter orders assigned to this supplier\r\n  const supplierOrders = useMemo(() => {\r\n    if (!user?.id) return orders;\r\n    // Filter orders where supplier matches current user\r\n    return orders.filter(order => {\r\n      if (order.supplier_id) {\r\n        return order.supplier_id === user.id;\r\n      }\r\n      // Fallback matching (will be improved with backend)\r\n      return true;\r\n    });\r\n  }, [orders, user]);\r\n\r\n  const statusCounts = useMemo(() => {\r\n    return supplierOrders.reduce((acc, order) => {\r\n      acc[order.status] = (acc[order.status] || 0) + 1;\r\n      return acc;\r\n    }, {});\r\n  }, [supplierOrders]);\r\n\r\n  const recentOrders = useMemo(() => {\r\n    return [...supplierOrders]\r\n      .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n      .slice(0, 5);\r\n  }, [supplierOrders]);\r\n\r\n  const StatCard = memo(({ title, value, icon, color, delay = 0 }) => (\r\n    <motion.div\r\n      className=\"supplier-stat-card\"\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ delay, duration: 0.3 }}\r\n    >\r\n      <div className=\"supplier-stat-icon\" style={{ background: `${color}20`, color }}>\r\n        {icon}\r\n      </div>\r\n      <div className=\"supplier-stat-content\">\r\n        <p className=\"supplier-stat-title\">{title}</p>\r\n        <h3 className=\"supplier-stat-value\">{value}</h3>\r\n      </div>\r\n    </motion.div>\r\n  ));\r\n\r\n  if (loading) {\r\n    return <div className=\"supplier-loading\">Loading your dashboard...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"supplier-dashboard\">\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        className=\"supplier-dashboard-header\"\r\n      >\r\n        <h1>Supplier Dashboard</h1>\r\n        <p>Welcome back, {user?.first_name || user?.username || 'Supplier'}! Manage your orders and requests.</p>\r\n      </motion.div>\r\n\r\n      <div className=\"supplier-stats-grid\">\r\n        <StatCard\r\n          title=\"Pending Requests\"\r\n          value={stats?.pending_orders || 0}\r\n          icon=\"ðŸ“‹\"\r\n          color=\"rgba(74, 144, 226, 1)\"\r\n          delay={0.1}\r\n        />\r\n        <StatCard\r\n          title=\"Active Orders\"\r\n          value={(statusCounts['in-preparation'] || 0) + (statusCounts.ready || 0)}\r\n          icon=\"ðŸ“¦\"\r\n          color=\"rgba(80, 201, 206, 1)\"\r\n          delay={0.2}\r\n        />\r\n        <StatCard\r\n          title=\"Completed This Month\"\r\n          value={statusCounts.delivered || 0}\r\n          icon=\"âœ…\"\r\n          color=\"rgba(107, 207, 127, 1)\"\r\n          delay={0.3}\r\n        />\r\n        <StatCard\r\n          title=\"Total Revenue\"\r\n          value={`$${(stats?.total_revenue || 0).toLocaleString()}`}\r\n          icon=\"ðŸ’°\"\r\n          color=\"rgba(59, 130, 246, 1)\"\r\n          delay={0.4}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"supplier-recent-orders\">\r\n        <h2>Recent Assigned Orders</h2>\r\n        {recentOrders.length === 0 ? (\r\n          <div className=\"supplier-empty-state\">\r\n            <p>No orders assigned to you yet.</p>\r\n            <p>Check \"Order Requests\" to see incoming requests and create offers!</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"supplier-orders-list\">\r\n            {recentOrders.map((order, index) => (\r\n              <motion.div\r\n                key={order.id}\r\n                className=\"supplier-order-card\"\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: 0.5 + index * 0.1 }}\r\n              >\r\n                <div className=\"supplier-order-header\">\r\n                  <span className=\"supplier-order-id\">Order #{order.id}</span>\r\n                  <span className={`supplier-order-status status-${order.status}`}>\r\n                    {order.status.replace('-', ' ')}\r\n                  </span>\r\n                </div>\r\n                <div className=\"supplier-order-body\">\r\n                  <div className=\"supplier-order-product\">\r\n                    <strong>{order.productType}</strong>\r\n                    <span>Qty: {order.quantity}</span>\r\n                  </div>\r\n                  <div className=\"supplier-order-customer\">\r\n                    <span>Customer: {order.customerName || 'N/A'}</span>\r\n                  </div>\r\n                  <div className=\"supplier-order-dates\">\r\n                    <span>Assigned: {new Date(order.createdAt).toLocaleDateString()}</span>\r\n                    {order.deliveryDate && (\r\n                      <span>Delivery: {new Date(order.deliveryDate).toLocaleDateString()}</span>\r\n                    )}\r\n                  </div>\r\n                  {order.totalAmount && (\r\n                    <div className=\"supplier-order-amount\">\r\n                      Amount: ${order.totalAmount.toLocaleString()}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(SupplierDashboard);\r\n\r\n\r\n\r\n"],"names":["SupplierDashboard","_ref","orders","user","useAuth","loading","setLoading","useState","stats","setStats","useEffect","fetchStats","async","response","ordersAPI","getDashboardStats","data","err","console","error","supplierOrders","useMemo","id","filter","order","supplier_id","statusCounts","reduce","acc","status","recentOrders","sort","a","b","Date","createdAt","slice","StatCard","memo","_ref2","title","value","icon","color","delay","_jsxs","motion","div","className","initial","opacity","y","animate","transition","duration","children","_jsx","style","background","concat","first_name","username","pending_orders","ready","delivered","total_revenue","toLocaleString","length","map","index","x","replace","productType","quantity","customerName","toLocaleDateString","deliveryDate","totalAmount"],"sourceRoot":""}